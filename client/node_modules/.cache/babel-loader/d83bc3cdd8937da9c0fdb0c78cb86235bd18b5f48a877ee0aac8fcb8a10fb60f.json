{"ast":null,"code":"import _toConsumableArray from\"C:/Users/HP/OneDrive/Desktop/Mern Stack/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"C:/Users/HP/OneDrive/Desktop/Mern Stack/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/HP/OneDrive/Desktop/Mern Stack/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/HP/OneDrive/Desktop/Mern Stack/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import'./App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var api_base='http://localhost:3001';function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),todos=_useState2[0],setTodos=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),popupActive=_useState4[0],setPopupActive=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),newTodo=_useState6[0],setNewTodo=_useState6[1];useEffect(function(){GetTodos();},[]);var GetTodos=function GetTodos(){fetch(api_base+'/todos').then(function(res){return res.json();}).then(function(data){return setTodos(data);}).catch(function(err){return console.error(\"Error: \",err);});};var completeTodo=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(api_base+'/todo/complete/'+id).then(function(res){return res.json();});case 2:data=_context.sent;setTodos(function(todos){return todos.map(function(todo){if(todo._id===data._id){todo.complete=data.complete;}return todo;});});case 4:case\"end\":return _context.stop();}},_callee);}));return function completeTodo(_x){return _ref.apply(this,arguments);};}();var addTodo=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(api_base+\"/todo/new\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({text:newTodo})}).then(function(res){return res.json();});case 2:data=_context2.sent;setTodos([].concat(_toConsumableArray(todos),[data]));setPopupActive(false);setNewTodo(\"\");case 6:case\"end\":return _context2.stop();}},_callee2);}));return function addTodo(){return _ref2.apply(this,arguments);};}();var deleteTodo=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(id){var data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(api_base+'/todo/delete/'+id,{method:\"DELETE\"}).then(function(res){return res.json();});case 2:data=_context3.sent;setTodos(function(todos){return todos.filter(function(todo){return todo._id!==data.result._id;});});case 4:case\"end\":return _context3.stop();}},_callee3);}));return function deleteTodo(_x2){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome, Abhishek\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"Your tasks\"}),/*#__PURE__*/_jsx(\"div\",{className:\"todos\",children:todos.length>0?todos.map(function(todo){return/*#__PURE__*/_jsxs(\"div\",{className:\"todo\"+(todo.complete?\" is-complete\":\"\"),onClick:function onClick(){return completeTodo(todo._id);},children:[/*#__PURE__*/_jsx(\"div\",{className:\"checkbox\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:todo.text}),/*#__PURE__*/_jsx(\"div\",{className:\"delete-todo\",onClick:function onClick(){return deleteTodo(todo._id);},children:\"x\"})]},todo._id);}):/*#__PURE__*/_jsx(\"p\",{children:\"You currently have no tasks\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"addPopup\",onClick:function onClick(){return setPopupActive(true);},children:\"+\"}),popupActive?/*#__PURE__*/_jsxs(\"div\",{className:\"popup\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"closePopup\",onClick:function onClick(){return setPopupActive(false);},children:\"X\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Add Task\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"add-todo-input\",onChange:function onChange(e){return setNewTodo(e.target.value);},value:newTodo}),/*#__PURE__*/_jsx(\"div\",{className:\"button\",onClick:addTodo,children:\"Create Task\"})]})]}):'']});}export default App;","map":{"version":3,"names":["useEffect","useState","jsx","_jsx","jsxs","_jsxs","api_base","App","_useState","_useState2","_slicedToArray","todos","setTodos","_useState3","_useState4","popupActive","setPopupActive","_useState5","_useState6","newTodo","setNewTodo","GetTodos","fetch","then","res","json","data","catch","err","console","error","completeTodo","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","id","wrap","_callee$","_context","prev","next","sent","map","todo","_id","complete","stop","_x","apply","arguments","addTodo","_ref2","_callee2","_callee2$","_context2","method","headers","body","JSON","stringify","text","concat","_toConsumableArray","deleteTodo","_ref3","_callee3","_callee3$","_context3","filter","result","_x2","className","children","length","onClick","type","onChange","e","target","value"],"sources":["C:/Users/HP/OneDrive/Desktop/Mern Stack/client/src/App.js"],"sourcesContent":["\nimport { useEffect, useState } from 'react';\nimport './App.css'\nconst api_base = 'http://localhost:3001';\n\nfunction App() {\n\tconst [todos, setTodos] = useState([]);\n\tconst [popupActive, setPopupActive] = useState(false);\n\tconst [newTodo, setNewTodo] = useState(\"\");\n\n\tuseEffect(() => {\n\t\tGetTodos();\n\t}, []);\n\n\tconst GetTodos = () => {\n\t\tfetch(api_base + '/todos')\n\t\t\t.then(res => res.json())\n\t\t\t.then(data => setTodos(data))\n\t\t\t.catch((err) => console.error(\"Error: \", err));\n\t}\n\n\tconst completeTodo = async id => {\n\t\tconst data = await fetch(api_base + '/todo/complete/' + id).then(res => res.json());\n\n\t\tsetTodos(todos => todos.map(todo => {\n\t\t\tif (todo._id === data._id) {\n\t\t\t\ttodo.complete = data.complete;\n\t\t\t}\n\n\t\t\treturn todo;\n\t\t}));\n\t\t\n\t}\n\n\tconst addTodo = async () => {\n\t\tconst data = await fetch(api_base + \"/todo/new\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\" \n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\ttext: newTodo\n\t\t\t})\n\t\t}).then(res => res.json());\n\n\t\tsetTodos([...todos, data]);\n\n\t\tsetPopupActive(false);\n\t\tsetNewTodo(\"\");\n\t}\n\n\tconst deleteTodo = async id => {\n\t\tconst data = await fetch(api_base + '/todo/delete/' + id, { method: \"DELETE\" }).then(res => res.json());\n\n\t\tsetTodos(todos => todos.filter(todo => todo._id !== data.result._id));\n\t}\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<h1>Welcome, Abhishek</h1>\n\t\t\t<h4>Your tasks</h4>\n\n\t\t\t<div className=\"todos\">\n\t\t\t\t{todos.length > 0 ? todos.map(todo => (\n\t\t\t\t\t<div className={\n\t\t\t\t\t\t\"todo\" + (todo.complete ? \" is-complete\" : \"\")\n\t\t\t\t\t} key={todo._id} onClick={() => completeTodo(todo._id)}>\n\t\t\t\t\t\t<div className=\"checkbox\"></div>\n\n\t\t\t\t\t\t<div className=\"text\">{todo.text}</div>\n\n\t\t\t\t\t\t<div className=\"delete-todo\" onClick={() => deleteTodo(todo._id)}>x</div>\n\t\t\t\t\t</div>\n\t\t\t\t)) : (\n\t\t\t\t\t<p>You currently have no tasks</p>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t<div className=\"addPopup\" onClick={() => setPopupActive(true)}>+</div>\n\n\t\t\t{popupActive ? (\n\t\t\t\t<div className=\"popup\">\n\t\t\t\t\t<div className=\"closePopup\" onClick={() => setPopupActive(false)}>X</div>\n\t\t\t\t\t<div className=\"content\">\n\t\t\t\t\t\t<h3>Add Task</h3>\n\t\t\t\t\t\t<input type=\"text\" className=\"add-todo-input\" onChange={e => setNewTodo(e.target.value)} value={newTodo} />\n\t\t\t\t\t\t<div className=\"button\" onClick={addTodo}>Create Task</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t) : ''}\n\t\t</div>\n\t);\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}